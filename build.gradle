plugins {
	id 'java'
}

group = 'io.github.mfvanek'
version = '0.0.1-SNAPSHOT'
sourceCompatibility = JavaVersion.VERSION_1_8

configurations {
	compileOnly {
		extendsFrom annotationProcessor
	}
}

repositories {
	mavenLocal()
	mavenCentral()
}

def testContainersVersion = '1.15.3'
def lombokVersion = '1.18.20'
def springBootVersion = '2.4.3'
dependencies {
    implementation 'io.micrometer:micrometer-registry-prometheus:1.7.0'
	implementation "org.springframework.boot:spring-boot-starter-actuator:$springBootVersion"
	implementation "org.springframework.boot:spring-boot-starter-jdbc:$springBootVersion"
	implementation "org.springframework.boot:spring-boot-starter-web:$springBootVersion"
	implementation 'org.liquibase:liquibase-core:4.3.5'
    implementation 'org.postgresql:postgresql:42.2.20'
    implementation "org.testcontainers:testcontainers:$testContainersVersion"
    implementation "org.testcontainers:postgresql:$testContainersVersion"

    compileOnly "org.projectlombok:lombok:$lombokVersion"
	annotationProcessor "org.projectlombok:lombok:$lombokVersion"

	testImplementation "org.springframework.boot:spring-boot-starter-test:$springBootVersion"
	testImplementation "org.testcontainers:junit-jupiter:$testContainersVersion"
    testImplementation 'io.github.mfvanek:pg-index-health-test-starter:0.3.1.1'
}

test {
	useJUnitPlatform()
}
